<ng-container *ngIf="!isSuccess; else successTemplate">
  <div class="text-center">
    <div class="heading">
      Forgot Password?
    </div>

    <div class="sub-heading sub-heading--muted">
      Enter the email address you used when you joined and we'll send you instructions to reset your password!
    </div>

    <div class="divider"></div>
  </div>

  <form
    (submit)="submit()"
    [formGroup]="form"
    appFormSubmit
    class="w-100"
  >
    <div class="form-group">
      <label for="email">Email Address</label>
      <input
        appControlError
        class="form-control with-icon"
        formControlName="email"
        id="email"
        name="email"
        type="email"
      >
    </div>

    <div
      *ngIf="error"
      class="error"
    >{{error}}</div>

    <ng-container *ngIf="!isSending">
      <button
        class="btn btn--radius__md btn--color__blue"
        type="submit"
      >
        Send Password Reset Instructions
      </button>

      <div class="navigation">
        <span>Get back to</span>
        <a routerLink="/auth/login">Login</a>
        <span>or</span>
        <a routerLink="/auth/registration">Register</a>
      </div>
    </ng-container>

    <app-loader *ngIf="isSending"></app-loader>
  </form>
</ng-container>

<ng-template #successTemplate>
  <div class="success text-center">
    <svg width="220px" height="220px" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="forgot-password-sent-email" transform="translate(-610.000000, -271.000000)">
          <g id="reset-password" transform="translate(610.000000, 271.000000)">
            <circle id="Oval" fill="#F7FAFC" cx="110" cy="110" r="110"></circle>
            <g id="Group" transform="translate(60.000000, 51.000000)" fill-rule="nonzero">
              <path d="M1.73611111,49.5392052 L1.73611111,111.215363 C1.73611111,114.290131 4.22847222,116.782261 7.30300926,116.782261 L92.6631944,116.782261 C95.737963,116.782261 98.2300926,114.2899 98.2300926,111.215363 L98.2300926,49.0998533 L1.73611111,49.5392052 Z" id="Path" fill="#DED7F4"></path>
              <path d="M95.8259259,44.0482329 L58.79375,9.86466813 C53.8178241,5.27161257 46.1483796,5.27161257 41.1724537,9.86466813 L4.14027778,44.0482329 C2.60787037,45.4630478 1.73611111,47.4537885 1.73611111,49.5394366 C1.73611111,51.6250848 2.60763889,53.6158255 4.14027778,55.0306403 L41.1724537,89.2139737 C46.1483796,93.8070292 53.8178241,93.8070292 58.79375,89.2139737 L95.8259259,55.0304089 C97.3585648,53.6158255 98.2300926,51.6248533 98.2300926,49.5392052 C98.2300926,47.453557 97.3585648,45.4630478 95.8259259,44.0482329 Z" id="Path" fill="#FFFFFF"></path>
              <rect id="Rectangle" fill="#D5DCE1" x="53.69375" y="59.2567978" width="7.42152778" height="11.1347222"></rect>
              <path d="M47.1814815,2.00540887 C41.6923611,3.07554776 37.2993056,7.54314035 36.3020833,13.0461496 C35.0189815,20.1262422 39.0986111,26.4528626 45.1611111,28.6931403 C45.8435185,28.9454552 46.2717593,29.6271681 46.2717593,30.3549459 L46.2717593,73.90402 C46.2717593,75.7526311 47.5349537,77.4662885 49.3597222,77.7632792 C51.6847222,78.14152 53.6944444,76.3567978 53.6944444,74.1026311 L53.6944444,30.3507792 C53.6944444,29.5753163 54.2050926,28.9216126 54.9298611,28.6459181 C60.1717593,26.6514737 63.9002315,21.5912885 63.9002315,15.6491589 C63.9006944,7.04684405 56.0962963,0.267214422 47.1814815,2.00540887 Z M49.9833333,16.5769366 C47.9337963,16.5769366 46.2719907,14.9153626 46.2719907,12.8655941 C46.2719907,10.8158255 47.9335648,9.15425146 49.9833333,9.15425146 C52.0331019,9.15425146 53.6946759,10.8158255 53.6946759,12.8655941 C53.6946759,14.9153626 52.0328704,16.5769366 49.9833333,16.5769366 Z" id="Shape" fill="#D5DCE1"></path>
              <path d="M97.0034722,42.772307 L71.5678241,19.2933718 C70.8631944,18.6429089 69.7648148,18.6868903 69.1145833,19.39152 C68.4643519,20.0959181 68.5081019,21.1945292 69.2127315,21.8447607 L94.6483796,45.3239274 C95.8212963,46.4065663 96.4939815,47.9429089 96.4939815,49.5392052 C96.4939815,51.1355015 95.8212963,52.6720755 94.6483796,53.7544829 L57.6162037,87.9382792 C53.3358796,91.8892052 46.6303241,91.8892052 42.3502315,87.9382792 L5.31805556,53.7547144 C4.14513889,52.6720755 3.4724537,51.1357329 3.4724537,49.5394366 C3.4724537,47.9431403 4.14513889,46.4065663 5.31805556,45.3241589 L30.7486111,21.8496218 C31.4532407,21.1991589 31.4972222,20.1007792 30.8467593,19.3963811 C30.1965278,18.6917515 29.0981481,18.64777 28.3935185,19.2982329 L2.96273148,42.772307 C1.07986111,44.51027 1.42108547e-13,46.9769366 1.42108547e-13,49.5392052 L1.42108547e-13,111.215363 C1.42108547e-13,115.242446 3.27615741,118.518372 7.30300926,118.518372 L92.6631944,118.518372 C96.6902778,118.518372 99.9662037,115.242214 99.9662037,111.215363 L99.9662037,49.5392052 C99.9662037,46.9769366 98.8865741,44.5107329 97.0034722,42.772307 Z M92.6634259,115.04615 L7.30300926,115.04615 C5.42962963,115.04615 3.86851852,113.693372 3.53888889,111.913974 L29.0472222,88.3676774 C29.7518519,87.7172144 29.7958333,86.6188348 29.1453704,85.9144366 C28.4951389,85.209807 27.3967593,85.1658255 26.6921296,85.8162885 L3.47222222,107.250085 L3.47222222,56.7767052 L39.9949074,90.4898996 C42.7229167,93.0079552 46.2703704,94.3952237 49.9831019,94.3952237 C53.6958333,94.3952237 57.2430556,93.0084181 59.9712963,90.4898996 L96.494213,56.7767052 L96.494213,107.250085 L73.4287037,85.9588811 C72.7243056,85.3084181 71.6256944,85.3523996 70.975463,86.0570292 C70.3252315,86.7614274 70.3689815,87.8600385 71.0736111,88.51027 L96.4273148,111.913974 C96.0974537,113.693372 94.5368056,115.04615 92.6634259,115.04615 Z" id="Shape" fill="#000000"></path>
              <path d="M55.430787,12.8655941 C55.430787,9.86189035 52.987037,7.41814035 49.9833333,7.41814035 C46.9793981,7.41814035 44.5358796,9.86189035 44.5358796,12.8655941 C44.5358796,15.8692978 46.9796296,18.3130478 49.9833333,18.3130478 C52.9868056,18.3130478 55.430787,15.8692978 55.430787,12.8655941 Z M48.0078704,12.8655941 C48.0078704,11.7764737 48.8939815,10.8905941 49.9828704,10.8905941 C51.0719907,10.8905941 51.9578704,11.7767052 51.9578704,12.8655941 C51.9578704,13.9544829 51.0717593,14.8405941 49.9828704,14.8405941 C48.894213,14.8408255 48.0078704,13.9547144 48.0078704,12.8655941 Z" id="Shape" fill="#000000"></path>
              <path d="M44.5268519,30.3091126 C44.53125,30.3192978 44.5356481,30.3350385 44.5356481,30.3544829 L44.5356481,33.2771681 C44.5356481,34.2359644 45.312963,35.0132792 46.2717593,35.0132792 C47.2305556,35.0132792 48.0078704,34.2359644 48.0078704,33.2771681 L48.0078704,30.3544829 C48.0078704,28.8824922 47.105787,27.56027 45.762963,27.0639737 C40.2034722,25.009807 36.943287,19.2442978 38.0106481,13.3551774 C38.8863426,8.52276998 42.7055556,4.64661257 47.5138889,3.70911257 C51.180787,2.99429776 54.9018519,3.91767739 57.7233796,6.24198294 C60.5458333,8.56721442 62.1648148,11.9959181 62.1648148,15.6489274 C62.1648148,20.6651311 59.0092593,25.2361959 54.312963,27.0230015 C52.8828704,27.5674459 51.9587963,28.8734644 51.9587963,30.3507792 L51.9587963,74.1021681 C51.9587963,74.6824922 51.7048611,75.2311033 51.262037,75.6079552 C50.8131944,75.9894366 50.237037,76.1463811 49.6391204,76.0489274 C48.7247685,75.9000848 48.0087963,74.9579552 48.0087963,73.903557 L48.0087963,40.7007792 C48.0087963,39.7419829 47.2314815,38.9646681 46.2726852,38.9646681 C45.3138889,38.9646681 44.5365741,39.7419829 44.5365741,40.7007792 L44.5365741,73.903557 C44.5365741,76.6588811 46.4905093,79.0547144 49.0819444,79.4764737 C49.3800926,79.5248533 49.6789352,79.5489274 49.975463,79.5489274 C51.2671296,79.5489274 52.5201389,79.0963811 53.5118056,78.2533255 C54.731713,77.2158255 55.43125,75.7028626 55.43125,74.1023996 L55.43125,72.1273996 L61.1178241,72.1273996 C62.0766204,72.1273996 62.8539352,71.3500848 62.8539352,70.3912885 L62.8539352,59.2572607 C62.8539352,58.2984644 62.0766204,57.5211496 61.1178241,57.5211496 L55.4310185,57.5211496 L55.4305556,30.35402 C55.4344907,30.3445292 55.4671296,30.2998533 55.5481481,30.2688348 C61.5828704,27.97277 65.6375,22.09777 65.6375,15.6496218 C65.6375,10.9558718 63.5578704,6.55031627 59.931713,3.56281627 C56.305787,0.575779237 51.5377315,-0.61287817 46.8490741,0.3012422 C40.6474537,1.5100385 35.7224537,6.5074922 34.5935185,12.7361959 C33.2277778,20.2748533 37.4039352,27.6593441 44.5268519,30.3091126 Z M59.380787,60.9931403 L59.380787,68.6547144 L55.4303241,68.6547144 L55.4300926,60.9931403 L59.380787,60.9931403 L59.380787,60.9931403 Z" id="Shape" fill="#000000"></path>
            </g>
          </g>
        </g>
      </g>
    </svg>

    <div class="heading">
      Password reset email sent
    </div>

    <div class="sub-heading sub-heading--muted">
      Reset instructions have been sent to your email address.
      Follow the directions in the email to reset your password.
    </div>

    <div class="navigation">
      <span>Go back to</span>
      <a routerLink="/auth/login">Login</a>
    </div>
  </div>
</ng-template>
